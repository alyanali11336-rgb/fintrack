<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartSpend Tracker</title>
    <style>
        :root {
            --primary: #6366f1;
            --success: #22c55e;
            --danger: #ef4444;
            --bg: #f8fafc;
            --card: #ffffff;
        }

        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #1e293b; }
        .container { max-width: 800px; margin: 0 auto; display: grid; grid-template-columns: 1fr 300px; gap: 20px; }
        
        /* Features Index Sidebar */
        .features-index { background: var(--card); padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); height: fit-content; }
        .features-index h3 { margin-top: 0; font-size: 1.1rem; border-bottom: 2px solid var(--bg); padding-bottom: 10px; }
        .feature-tag { display: inline-block; background: #e2e8f0; font-size: 0.75rem; padding: 4px 8px; border-radius: 4px; margin: 4px 2px; }

        /* Main App Style */
        .main-app { background: var(--card); padding: 25px; border-radius: 12px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .balance-card { text-align: center; margin-bottom: 30px; }
        .stats { display: flex; justify-content: space-around; background: var(--bg); padding: 15px; border-radius: 8px; }
        
        .form-group { margin: 15px 0; }
        input, select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #cbd5e1; border-radius: 6px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: opacity 0.2s; }
        button:hover { opacity: 0.9; }

        .list-item { display: flex; justify-content: space-between; padding: 12px; border-bottom: 1px solid #f1f5f9; align-items: center; }
        .income { border-left: 4px solid var(--success); }
        .expense { border-left: 4px solid var(--danger); }
        .delete-btn { color: var(--danger); cursor: pointer; font-weight: bold; border: none; background: none; }

        @media (max-width: 600px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="container">
    <div class="main-app">
        <h2>SmartSpend 2026</h2>
        
        <div class="balance-card">
            <small>YOUR BALANCE</small>
            <h1 id="balance">$0.00</h1>
        </div>

        <div class="stats">
            <div>
                <small>INCOME</small>
                <div id="inc-amt" style="color: var(--success); font-weight: bold;">$0.00</div>
            </div>
            <div>
                <small>EXPENSE</small>
                <div id="exp-amt" style="color: var(--danger); font-weight: bold;">$0.00</div>
            </div>
        </div>

        <h3>Add Transaction</h3>
        <form id="form">
            <div class="form-group">
                <input type="text" id="text" placeholder="What did you buy/earn?" required>
            </div>
            <div class="form-group">
                <input type="number" id="amount" placeholder="Amount (e.g., -50 for coffee, 200 for salary)" required>
            </div>
            <button type="submit">Add Transaction</button>
        </form>

        <h3>History</h3>
        <div id="list">
            </div>
    </div>

    <aside class="features-index">
        <h3>ðŸš€ Feature Index</h3>
        <div>
            <span class="feature-tag">Local Storage</span>
            <span class="feature-tag">Real-time Balance</span>
            <span class="feature-tag">Auto-Coloring</span>
            <span class="feature-tag">Mobile Responsive</span>
            <span class="feature-tag">CRUD Operations</span>
            <span class="feature-tag">Negative=Expense Logic</span>
        </div>
        <p style="font-size: 0.85rem; color: #64748b; margin-top: 15px;">
            This tracker automatically calculates your net worth based on positive (income) and negative (expense) entries.
        </p>
    </aside>
</div>

<script>
    const balance = document.getElementById('balance');
    const money_plus = document.getElementById('inc-amt');
    const money_minus = document.getElementById('exp-amt');
    const list = document.getElementById('list');
    const form = document.getElementById('form');
    const text = document.getElementById('text');
    const amount = document.getElementById('amount');

    const localStorageTransactions = JSON.parse(localStorage.getItem('transactions'));
    let transactions = localStorage.getItem('transactions') !== null ? localStorageTransactions : [];

    function addTransaction(e) {
        e.preventDefault();
        const transaction = {
            id: Math.floor(Math.random() * 100000000),
            text: text.value,
            amount: +amount.value
        };
        transactions.push(transaction);
        addTransactionDOM(transaction);
        updateValues();
        updateLocalStorage();
        text.value = '';
        amount.value = '';
    }

    function addTransactionDOM(transaction) {
        const sign = transaction.amount < 0 ? '-' : '+';
        const item = document.createElement('div');
        item.classList.add('list-item');
        item.classList.add(transaction.amount < 0 ? 'expense' : 'income');

        item.innerHTML = `
            <span>${transaction.text}</span>
            <span>${sign}$${Math.abs(transaction.amount)} 
                <button class="delete-btn" onclick="removeTransaction(${transaction.id})">x</button>
            </span>
        `;
        list.appendChild(item);
    }

    function updateValues() {
        const amounts = transactions.map(t => t.amount);
        const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);
        const income = amounts.filter(item => item > 0).reduce((acc, item) => (acc += item), 0).toFixed(2);
        const expense = (amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) * -1).toFixed(2);

        balance.innerText = `$${total}`;
        money_plus.innerText = `+$${income}`;
        money_minus.innerText = `-$${expense}`;
    }

    function removeTransaction(id) {
        transactions = transactions.filter(t => t.id !== id);
        updateLocalStorage();
        init();
    }

    function updateLocalStorage() {
        localStorage.setItem('transactions', JSON.stringify(transactions));
    }

    function init() {
        list.innerHTML = '';
        transactions.forEach(addTransactionDOM);
        updateValues();
    }

    init();
    form.addEventListener('submit', addTransaction);
</script>

</body>
</html>
