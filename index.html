<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTrack Terminal</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { background-color: #000; color: white; margin: 0; padding-bottom: 80px; font-family: sans-serif; }
        .glass-card { background: #0F172A; border: 1px solid #1E293B; border-radius: 1.5rem; }
        .ad-placeholder { position: fixed; bottom: 0; left: 0; right: 0; height: 60px; background: #000; border-top: 1px solid #1E293B; display: flex; align-items: center; justify-content: center; font-size: 10px; color: #334155; z-index: 40; }
    </style>
</head>
<body>
    <div id="root"></div>
    <div class="ad-placeholder">ADVERTISEMENT SLOT</div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [transactions, setTransactions] = useState([]);
            const [showAdd, setShowAdd] = useState(false);
            const [amount, setAmount] = useState('');
            const [type, setType] = useState('EXPENSE');

            // Load Data
            useEffect(() => {
                const saved = localStorage.getItem('fintrack_logs');
                if (saved) setTransactions(JSON.parse(saved));
            }, []);

            // Save Transaction
            const saveTransaction = () => {
                if (!amount) return alert("Please enter amount");
                const newLog = {
                    id: Date.now(),
                    amount: amount,
                    type: type,
                    date: new Date().toLocaleDateString()
                };
                const updated = [newLog, ...transactions];
                setTransactions(updated);
                localStorage.setItem('fintrack_logs', JSON.stringify(updated));
                setAmount('');
                setShowAdd(false);
            };

            const total = transactions.reduce((acc, t) => 
                t.type === 'INCOME' ? acc + Number(t.amount) : acc - Number(t.amount), 0);

            return (
                <div className="p-6 max-w-lg mx-auto">
                    <div className="flex justify-between items-center mb-8">
                        <h2 className="text-xl font-black tracking-widest text-blue-500">FINTRACK</h2>
                        <div className="text-[10px] text-slate-500">EXPENSE MANAGER</div>
                    </div>

                    <div className="glass-card p-8 mb-10 text-center border-blue-900/50">
                        <p className="text-slate-500 text-[10px] mb-2 uppercase tracking-widest">Available Balance</p>
                        <h1 className={`text-5xl font-black ${total >= 0 ? 'text-white' : 'text-red-500'}`}>
                            Rs {total}
                        </h1>
                    </div>

                    {/* Transaction List */}
                    <div className="space-y-4">
                        <p className="text-[10px] font-bold text-slate-700 tracking-widest">RECENT LOGS</p>
                        {transactions.map(t => (
                            <div key={t.id} className="glass-card p-4 flex justify-between items-center">
                                <div>
                                    <p className="text-[10px] text-slate-500">{t.date}</p>
                                    <p className="font-bold text-sm">{t.type}</p>
                                </div>
                                <p className={`font-black ${t.type === 'INCOME' ? 'text-green-500' : 'text-red-500'}`}>
                                    {t.type === 'INCOME' ? '+' : '-'} {t.amount}
                                </p>
                            </div>
                        ))}
                    </div>

                    {/* ADD MODAL */}
                    {showAdd && (
                        <div className="fixed inset-0 bg-black/95 z-50 p-8 flex flex-col justify-center">
                            <h2 className="text-2xl font-black mb-6 text-center">NEW ENTRY</h2>
                            
                            <div className="flex gap-4 mb-6">
                                <button onClick={() => setType('INCOME')} className={`flex-1 py-3 rounded-xl font-bold ${type === 'INCOME' ? 'bg-green-600' : 'bg-slate-900'}`}>INCOME</button>
                                <button onClick={() => setType('EXPENSE')} className={`flex-1 py-3 rounded-xl font-bold ${type === 'EXPENSE' ? 'bg-red-600' : 'bg-slate-900'}`}>EXPENSE</button>
                            </div>

                            <input 
                                type="number" 
                                placeholder="ENTER AMOUNT" 
                                className="w-full bg-transparent border-b-2 border-slate-800 text-4xl py-4 mb-10 outline-none text-center"
                                value={amount}
                                onChange={(e) => setAmount(e.target.value)}
                            />

                            <button onClick={saveTransaction} className="w-full bg-blue-600 py-5 rounded-2xl font-black mb-4">CONFIRM</button>
                            <button onClick={() => setShowAdd(false)} className="text-slate-500 font-bold">CANCEL</button>
                        </div>
                    )}

                    {/* PLUS BUTTON */}
                    <button 
                        onClick={() => setShowAdd(true)}
                        className="fixed bottom-24 right-8 w-16 h-16 bg-blue-600 rounded-full text-4xl font-light shadow-2xl shadow-blue-500/20 z-30"
                    >
                        +
                    </button>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
